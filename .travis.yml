env:
  global:
    - CC_TEST_REPORTER_ID=2c0263d0730edc77654195955e1221cbfad01a4f3010dab476c3917769236fe2
    - GITHUB_REPO: "proustibat/svg-loader-es6-example"
    - secure: "qz3TXn8DVYmjSKp7gXHJP1hqmJSNFgi5bxaqrm5kO5/JWM6ANHvj+keEh2S5dRmtYFBtRTxycGQs/lLnOmM0uMWvoQA5rccs36cKmy0ey8VfFod64EiA+0WCLLQSm5ZUbBPtEcEdU5DzQQJVd6hLCiuGQT73GcRSSFnggI4/l6Fw+Jy88KQbZwLuq8nRB7abTJAqughNatJrqUXydNtTWFanY/NJhDQjAPgD9Ettajf202T1O9OOTMgfGALIwNEvjGpeGj4tz1/yPbleWYippOtZpNQrINGcZRNVGkFDYf/f1PwVx4q4OIwg9VtoibKiRkCigKgDRDkOXCKdR7uXcAxTA+X7VDNAhHZMCvTE1z/zNdMWCwl3JlnUyPa5yEQKnqT82WKJp0ie4ifMtuyy/+ONEc/BQr5RZIw+fike8JbTQ+Ywg6PHp/XCBvqaFEPG7WcpAJlIaQP30P3frljR6zfWT9avSn35KzF31mw/Enfs2ttnSLGrztkIFDKDb8i7iyJOCa1oq5jvG73k/frRqFaWPkQfDIJimAMj/9ZHh8ZexLStvZ7mPywRc3MJSyZll0O9WoLASblEXlK537HBbXypX8hqzzgKPIVUjBobsuD/kyD37VJVD25501MuGtc93cj+mnxzh61pUJXxI2HGqKUHnZdwcSO7aOpgbG5ngyI="

language: node_js

node_js: '8'

cache: yarn

addons:
  sonarcloud:
    organization: "proustibat-github"
    token:
      secure: "0QeD80aNIyY42vWHfHejnNreE1aBLW+tbhft0OyVPkGf4rZsyfFlbKU9PHPM2AvE2RmFMIUTq6U12rG8WmU9/NkRj1mChYxEnUKZ8HkcVKjA+okbH8caG3dTzZsKhuokh974Wv+ygacDpj4Xjr4ZdaTTLAtppmzGLEvzN13PNYphsOQB97DEdB3xXhDT/LZ8uBInAq9GjZmRaXDyMW8m1LO7dB19XzdPHwDnlLnwtKjpG8sA8ZvodkLVxgjIJngzAMqGzjeJUf6uZLVSYi8xxYN08jl0ZU3RK6azPR00sXsBIUlk4bAyL0fakMGvQyzA1CoJHWaaO5MXtMOX40UR+qHZU9lZdogUHKRAUwnwioRNtsA7cfbYF0VNQwr1z2ahQm8lYpMxb++bKAW4TCbHPDIkw36MoZWoOtwYd5vLWheY+/X2QCp099qqZSOVQdgXTVUEITm2eWlrTLK4xhHnRCvJ05rimFAPzj2xf2c8G5aSaMQZzunRPyD5B4NG0T1XxdKGWQandxXWGucnmdYCNR/U3ucXI4Z/L8StyYNlnbfNbx/QR+A0QHUSZN277n/YVBJ9/O2tAVU7rinFckX9IAV46xCSqcHBfK5vPCQknmO75Mggsg4wJFU9pcQ3fqEW3hVH5b6z8Cg2ALqUU1m2VWkRyW4D/qwsWgMKOHbx3oI="

install:
  - yarn install

before_script:
  - export DISPLAY=:99.0
  - sh -e /etc/init.d/xvfb start

script:
  - yarn build
  - bash sonar.sh

# Here we want to check out where we are.
# We only want to update Github Pages if we're building
# the usage-example branch of the original repository, so we
# have to check $TRAVIS_PULL_REQUEST and $TRAVIS_BRANCH.
# If we are here, we run bash deploy.sh
after_success:
 - test $TRAVIS_PULL_REQUEST == "false" && test $TRAVIS_BRANCH == "master" && bash deploy.sh
